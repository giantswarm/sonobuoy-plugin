sonobuoy-config:
  driver: Job
  plugin-name: giantswarm
  result-format: raw
spec:
  image: quay.io/giantswarm/sonobuoy-plugin
  name: plugin
  env:
    - name: KUBECONFIG
    - name: CP_KUBECONFIG
    - name: CLUSTER_ID
    - name: AZURE_CLIENT_ID
      valueFrom:
        secretKeyRef:
          name: azure-api-credentials
          key: clientid
    - name: AZURE_CLIENT_SECRET
      valueFrom:
        secretKeyRef:
          name: azure-api-credentials
          key: clientsecret
    - name: AZURE_TENANT_ID
      valueFrom:
        secretKeyRef:
          name: azure-api-credentials
          key: tenantid
    - name: AZURE_SUBSCRIPTION_ID
      valueFrom:
        secretKeyRef:
          name: azure-api-credentials
          key: subscriptionid
  resources: { }
  volumeMounts:
    - mountPath: /tmp/results
      name: results
